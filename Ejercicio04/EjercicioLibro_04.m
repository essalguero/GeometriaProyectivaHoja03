clc

x1 = [1.8865664564298006 7.32621145232938 1];
x2 = [6.545171955863565 2.0918232507184094 1];
x3 = [14.92019307844112 8.687152384748233 1];
x4 = [15.6268354856586 11.225830662529553 1];
x5 = [6.126420899734687 4.473469882451401 1];
x6 = [0.9443765801398256 9.891061671118756 1];
x7 = [10.261587579007355 7.875822213498532 1];
x8 = [5.184231023444712 11.618409777650376 1];

x1_ = [2.704567135735149 6.226616999422949 1];
x2_ = [8.86973996879771 2.633306206188259 1];
x3_ = [13.484499515439213 9.892888417900982 1];
x4_ = [14.031704204764292 11.86282529947127 1];
x5_ = [9.015661219284398 4.384361212028514 1];
x6_ = [1.9384805706800383 8.251274349925744 1];
x7_ = [11 8 1];
x8_ = [5.1122677687654985 10.731935608199437 1];

x = [x1; x2; x3; x4; x5; x6; x7; x8];
x_ = [x1_; x2_; x3_; x4_; x5_; x6_; x7_; x8_];

[F,e1,e2] = fundmatrix2(x', x_')

ex = [0, -e2(3) e2(2); e2(3) 0 -e2(1); -e2(2) e2(1) 0];

P = eye(3);
P = [P, [0; 0; 0]]
P_ = ex * F;
P_ = [P_ , e2]


%x'(1,:)*P(3) - P(1)
%x'(2,:)*P(3) - P(2)
%
%x_'(1,:)*P_(3) - P_(1)
%x_'(2,:)*P_(3) - P_(2)

A = zeros(32, 4);

B = x'(1,:).*P(3) - P(1)
C = x'(1,:).*P(3) - P(2)
D = x_'(1,:).*P_(3) - P_(1)
E = x_'(1,:).*P_(3) - P_(2)

a = [B', C', D' E']

[U, S, V] = svd(a)